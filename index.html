<!DOCTYPE html>
<html>
<head>
<script 
    defer="true" type="text/javascript" 
    botId="5d0372772314f99920dc718b" 
    class="botcopy-embedder-d7lcfheammjct" 
    id="botcopy-embedder-d7lcfheammjct"> 
    var s = document.createElement('script'); 
    s.type = 'text/javascript'; s.async = true; 
    s.src = 'https://d7lcfheammjct.cloudfront.net/js/injection.js'; 
    var embedder = document.getElementById('botcopy-embedder-d7lcfheammjct'); 
    embedder.parentNode.insertBefore(s, embedder); 
</script>

  <script src="https://rawgit.com/moment/moment/2.2.1/min/moment.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type = "text/css" href="css/page.css">
  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

  <!-- Bootstrap -->
  <link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />

  <!-- Custom stlylesheet -->
  <link type="text/css" rel="stylesheet" href="css/style.css" />

  <link type="text/css" rel="stylesheet" href="css/events.css" />
</head>
<body onload="eventDisplay()">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<video autoplay muted loop id="myVideo">
  <source src="video/Incredible.mp4" type="video/mp4">
  Your browser does not support HTML5 video.
</video>

<div class="content">
  <div id="booking" class="section">
    <div class="section-center">
      <div class="container">
        <div class="row">
          <div class="events-form col-md-6">
            <ul id="myUl" class="event-list"></ul>
          </div>
          <div class="booking-form col-md-6" >
            <div class="form-header">
              <h1>Book</h1>
            </div>
            <form>
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <span class="form-label">Name</span>
                    <input class="form-control" type="text" id="txtName" placeholder="Enter your name">
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <span class="form-label">Email</span>
                    <input class="form-control" type="email" id="txtEmail" placeholder="Enter your email">
                  </div>
                </div>
              </div>
              <div class="form-group">
                <span class="form-label">Phone</span>
                <input class="form-control" type="tel" id="phone" placeholder="Enter your phone number">
              </div>
              <div class="form-group">
                <span class="form-label">Location</span>
                <select class="form-control"  id="location" >
                  <option>Ebene</option>
                  <option>Port-Louis</option>
                  <option>Grand-Baie</option>
                </select>
              </div>
              <div class="row">
                <div class="col-sm-5">
                  <div class="form-group">
                    <span class="form-label">Date</span>
                    <input class="form-control" type="date" id="date" required>
                  </div>
                </div>
                <div class="col-sm-7">
                  <div class="row">
                    <div class="col-sm-4">
                      <div class="form-group">
                        <span class="form-label">Hour</span>
                        <select class="form-control" id="hour">
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                          <option>6</option>
                          <option>7</option>
                          <option>8</option>
                          <option>9</option>
                          <option>10</option>
                          <option>11</option>
                          <option>12</option>
                        </select>
                        <span class="select-arrow"></span>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="form-group">
                        <span class="form-label">Min</span>
                        <select class="form-control" id="mins">
                          <option>05</option>
                          <option>10</option>
                          <option>15</option>
                          <option>20</option>
                          <option>25</option>
                          <option>30</option>
                          <option>35</option>
                          <option>40</option>
                          <option>45</option>
                          <option>50</option>
                          <option>55</option>
                        </select>
                        <span class="select-arrow"></span>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="form-group">
                        <span class="form-label">AM/PM</span>
                        <select class="form-control" id="ampm">
                          <option>AM</option>
                          <option>PM</option>
                        </select>
                        <span class="select-arrow"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-btn">
                <button class="submit-btn" onclick="saveFile()">Book Now</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>


<script>
var video = document.getElementById("myVideo");
var btn = document.getElementById("myBtn");

function myFunction() {
  if (video.paused) {
    video.play();
    btn.innerHTML = "Pause";
  } else {
    video.pause();
    btn.innerHTML = "Play";
  }
}

function eventDisplay(){
  var events = JSON.parse(localStorage.getItem("events") || "[]");

  events.forEach(function(item) {
    var parts = item.date.split("-");
    var day = parseInt(parts[2], 10);
    var month = parseInt(parts[1], 10);
    month = moment(month, 'M').format('MMM');
    document.getElementById("myUl").innerHTML += "" +
            "<li>\n" +
            "<time datetime=\"2014-07-20\">\n" +
            "<span class=\"day\">"+ day +"</span>\n" +
            "<span class=\"month\">"+month+"</span>\n" +
            "<span class=\"year\">2014</span>\n" +
            "<span class=\"time\">ALL DAY</span>\n" +
            "</time>\n" +
            "<img alt=\"Independence Day\" src=\"https://farm4.staticflickr.com/3100/2693171833_3545fb852c_q.jpg\" />\n" +
            "<div class=\"info\">\n" +
            "<h2 class=\"title\">"+ item.location +"</h2>\n" +
            "<p class=\"desc\">"+ item.phone +"</p>\n" +
            "</div>\n" +
            "<div class=\"social\">\n" +
            "<ul>\n" +
            "<li class=\"facebook\" style=\"width:33%;\"><a href=\"#facebook\"><span class=\"fa fa-facebook\"></span></a></li>\n" +
            "<li class=\"twitter\" style=\"width:34%;\"><a href=\"#twitter\"><span class=\"fa fa-twitter\"></span></a></li>\n" +
            "<li class=\"google-plus\" style=\"width:33%;\"><a href=\"#google-plus\"><span class=\"fa fa-google-plus\"></span></a></li>\n" +
            "</ul>\n" +
            "</div>\n" +
            "</li>"

  });

}

let saveFile = () => {

  // Get the data from each element on the form.
  const name = document.getElementById('txtName').value;
  const email = document.getElementById('txtEmail').value;
  const location = document.getElementById('location').value;
  const phone = document.getElementById('phone').value;
  const date = document.getElementById('date').value;
  const hour = document.getElementById('hour').value;
  const mins = document.getElementById('mins').value;


  var events = JSON.parse(localStorage.getItem("events") || "[]");
  events.push({
    name: name,
    email: email,
    location: location,
    phone: phone,
    date: date,
    hour: hour,
    mins: mins
  });

  localStorage.setItem("events", JSON.stringify(events));

  //save to local storage
  localStorage.setItem('Name', JSON.stringify(name));

}


</script>

</body>
</html>
